<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Reference/cli">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Command Line Options | Lage</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/lage/docs/Reference/cli"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Command Line Options | Lage"><meta data-rh="true" name="description" content="lage is meant to be run as a CLI. After installing lage inside the repository or globally, you can run the npm scripts from your repository like this:"><meta data-rh="true" property="og:description" content="lage is meant to be run as a CLI. After installing lage inside the repository or globally, you can run the npm scripts from your repository like this:"><link data-rh="true" rel="icon" href="/lage/img/lage-logo.svg"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/lage/docs/Reference/cli"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/lage/docs/Reference/cli" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/lage/docs/Reference/cli" hreflang="x-default"><link rel="stylesheet" href="/lage/assets/css/styles.92b36086.css">
<link rel="preload" href="/lage/assets/js/runtime~main.7b2bdbce.js" as="script">
<link rel="preload" href="/lage/assets/js/main.47168870.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/lage/"><div class="navbar__logo"><img src="/lage/img/lage.png" alt="Lage Logo" class="themedImage_BQGR themedImage--light_HAxW"><img src="/lage/img/lage.png" alt="Lage Logo" class="themedImage_BQGR themedImage--dark_bGx0"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/lage/docs/Introduction">Guide</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/lage" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r docsWrapper_ct1J"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docPage_KLoz"><aside class="theme-doc-sidebar-container docSidebarContainer_y0RQ"><div class="sidebar_CUen"><nav class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item green"><a class="menu__link" href="/lage/docs/Introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lage/docs/Quick Start">Quick Start</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/lage/docs/Tutorial/">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/lage/docs/Reference/cli">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/lage/docs/Reference/cli">Command Line Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lage/docs/Reference/config">Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/lage/docs/Contributing/packages">Contributing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/lage/docs/Cookbook/migration">Cookbook</a></div></li></ul></nav></div></aside><main class="docMainContainer_sTIZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="docItemContainer_tjFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_T5ub" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/lage/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_GlTw"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Command Line Options</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Command Line Options</h1></header><p><code>lage</code> is meant to be run as a CLI. After installing <code>lage</code> inside the repository or globally, you can run the npm scripts from your repository like this:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage [options] &lt;command&gt;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage [options] &lt;command&gt;</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><hr><h2 class="anchor anchorWithStickyNavbar_JmGV" id="run-command">Run Command<a class="hash-link" href="#run-command" title="Direct link to heading">​</a></h2><p>Runs a set of commands in a target graph. The targets are defined by packages and their scripts as defined the package.json files.</p><p>Usage: <code>lage [run] &lt;command1&gt; [command2...commandN] [options]  run commands</code></p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="options">Options<a class="hash-link" href="#options" title="Direct link to heading">​</a></h3><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">  --reporter &lt;reporter...&gt;                          reporter (default: &quot;npmLog&quot;)</span></div><div class="line"><span style="color:undefined">  --log-level &lt;level&gt;                               log level (choices: &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;verbose&quot;, &quot;silly&quot;)</span></div><div class="line"><span style="color:undefined">  --verbose                                         verbose output</span></div><div class="line"><span style="color:undefined">  -c, --concurrency &lt;n&gt;                             concurrency (default: os.cpus() - 1)</span></div><div class="line"><span style="color:undefined">  --scope &lt;scope...&gt;                                scopes the run to a subset of packages (by default, includes the dependencies and dependents as well)</span></div><div class="line"><span style="color:undefined">  --no-dependents|--no-deps                         disables running any dependents of the scoped packages</span></div><div class="line"><span style="color:undefined">  --dependencies|--include-dependencies             adds the scoped packages dependencies as the &quot;entry points&quot; for the target graph run</span></div><div class="line"><span style="color:undefined">  --since &lt;since&gt;                                   only runs packages that have changed since the given commit, tag, or branch</span></div><div class="line"><span style="color:undefined">  --to &lt;scope...&gt;                                   runs up to a package (shorthand for --scope=&lt;scope...&gt; --no-dependents)</span></div><div class="line"><span style="color:undefined">  --grouped                                         groups the logs (default: false)</span></div><div class="line"><span style="color:undefined">  --no-cache                                        disables the cache</span></div><div class="line"><span style="color:undefined">  --reset-cache                                     resets the cache, filling it after a run</span></div><div class="line"><span style="color:undefined">  --skip-local-cache                                skips caching locally</span></div><div class="line"><span style="color:undefined">  --profile [profile]                               writes a run profile into a file that can be processed by Chromium devtool</span></div><div class="line"><span style="color:undefined">  --nodearg &lt;nodeArg&gt;                               arguments to be passed to node (e.g. --nodearg=&quot;--max_old_space_size=1234 --heap-prof&quot; - set via &quot;NODE_OPTIONS&quot; environment variable</span></div><div class="line"><span style="color:undefined">  --continue                                        continues the run even on error</span></div><div class="line"><span style="color:undefined">  -h, --help                                        display help for command</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">  --reporter &lt;reporter...&gt;                          reporter (default: &quot;npmLog&quot;)</span></div><div class="line"><span style="color:undefined">  --log-level &lt;level&gt;                               log level (choices: &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;verbose&quot;, &quot;silly&quot;)</span></div><div class="line"><span style="color:undefined">  --verbose                                         verbose output</span></div><div class="line"><span style="color:undefined">  -c, --concurrency &lt;n&gt;                             concurrency (default: os.cpus() - 1)</span></div><div class="line"><span style="color:undefined">  --scope &lt;scope...&gt;                                scopes the run to a subset of packages (by default, includes the dependencies and dependents as well)</span></div><div class="line"><span style="color:undefined">  --no-dependents|--no-deps                         disables running any dependents of the scoped packages</span></div><div class="line"><span style="color:undefined">  --dependencies|--include-dependencies             adds the scoped packages dependencies as the &quot;entry points&quot; for the target graph run</span></div><div class="line"><span style="color:undefined">  --since &lt;since&gt;                                   only runs packages that have changed since the given commit, tag, or branch</span></div><div class="line"><span style="color:undefined">  --to &lt;scope...&gt;                                   runs up to a package (shorthand for --scope=&lt;scope...&gt; --no-dependents)</span></div><div class="line"><span style="color:undefined">  --grouped                                         groups the logs (default: false)</span></div><div class="line"><span style="color:undefined">  --no-cache                                        disables the cache</span></div><div class="line"><span style="color:undefined">  --reset-cache                                     resets the cache, filling it after a run</span></div><div class="line"><span style="color:undefined">  --skip-local-cache                                skips caching locally</span></div><div class="line"><span style="color:undefined">  --profile [profile]                               writes a run profile into a file that can be processed by Chromium devtool</span></div><div class="line"><span style="color:undefined">  --nodearg &lt;nodeArg&gt;                               arguments to be passed to node (e.g. --nodearg=&quot;--max_old_space_size=1234 --heap-prof&quot; - set via &quot;NODE_OPTIONS&quot; environment variable</span></div><div class="line"><span style="color:undefined">  --continue                                        continues the run even on error</span></div><div class="line"><span style="color:undefined">  -h, --help                                        display help for command</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_JmGV" id="examples">Examples<a class="hash-link" href="#examples" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_JmGV" id="basic-case-running-build-test-and-lint-against-all-packages">Basic case, running &quot;build&quot;, &quot;test&quot;, and &quot;lint&quot; against all packages<a class="hash-link" href="#basic-case-running-build-test-and-lint-against-all-packages" title="Direct link to heading">​</a></h4><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h4 class="anchor anchorWithStickyNavbar_JmGV" id="concurrency">Concurrency<a class="hash-link" href="#concurrency" title="Direct link to heading">​</a></h4><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --concurrency=4</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --concurrency=4</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h4 class="anchor anchorWithStickyNavbar_JmGV" id="filtering-by-certain-packages">Filtering by certain packages<a class="hash-link" href="#filtering-by-certain-packages" title="Direct link to heading">​</a></h4><p>Scoped to &quot;package-a&quot; and &quot;package-b&quot; and their dependencies and dependents:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --scope package-a package-b</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --scope package-a package-b</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Scoped to &quot;package-a&quot; and &quot;package-b&quot; only:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --scope package-a package-b --no-deps</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --scope package-a package-b --no-deps</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Scoped to packages that have changed in the current branch against a target merge branch:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --since origin/master</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --since origin/master</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h4 class="anchor anchorWithStickyNavbar_JmGV" id="continue-running-even-after-encountering-an-error-for-one-of-the-targets">Continue running even after encountering an error for one of the targets<a class="hash-link" href="#continue-running-even-after-encountering-an-error-for-one-of-the-targets" title="Direct link to heading">​</a></h4><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --continue</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --continue</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h4 class="anchor anchorWithStickyNavbar_JmGV" id="controlling-logged-outputs">Controlling logged outputs<a class="hash-link" href="#controlling-logged-outputs" title="Direct link to heading">​</a></h4><p>Show verbose output for each target:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --verbose</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --verbose</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Show only errors for each target:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --log-level=error</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --log-level=error</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Show logs as grouped by each target:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --grouped --verbose</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --grouped --verbose</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Choosing a different reporter while logging (e.g. nice outputs for Azure DevOps):</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --reporter=azureDevOps</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build test lint --reporter=azureDevOps</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><hr><h2 class="anchor anchorWithStickyNavbar_JmGV" id="cache-command">Cache Command<a class="hash-link" href="#cache-command" title="Direct link to heading">​</a></h2><p><code>lage</code> by default will skip tasks that it has already done recently. As long as the source file and the command called to <code>lage</code> has not changed, those packages will be skipped. Sometimes, this incremental behavior is not desired. You can override the caching behavior by using the <code>no-cache</code> argument.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --no-cache</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --no-cache</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_JmGV" id="options-1">Options<a class="hash-link" href="#options-1" title="Direct link to heading">​</a></h3><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">  --reporter &lt;reporter...&gt;  reporter (default: &quot;npmLog&quot;)</span></div><div class="line"><span style="color:undefined">  --log-level &lt;level&gt;       log level (choices: &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;verbose&quot;, &quot;silly&quot;)</span></div><div class="line"><span style="color:undefined">  --verbose                 verbose output</span></div><div class="line"><span style="color:undefined">  --prune &lt;days&gt;            Prunes cache older than certain number of &lt;days&gt;</span></div><div class="line"><span style="color:undefined">  --clear                   Clears the cache locally</span></div><div class="line"><span style="color:undefined">  -h, --help                display help for command</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">  --reporter &lt;reporter...&gt;  reporter (default: &quot;npmLog&quot;)</span></div><div class="line"><span style="color:undefined">  --log-level &lt;level&gt;       log level (choices: &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;verbose&quot;, &quot;silly&quot;)</span></div><div class="line"><span style="color:undefined">  --verbose                 verbose output</span></div><div class="line"><span style="color:undefined">  --prune &lt;days&gt;            Prunes cache older than certain number of &lt;days&gt;</span></div><div class="line"><span style="color:undefined">  --clear                   Clears the cache locally</span></div><div class="line"><span style="color:undefined">  -h, --help                display help for command</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_JmGV" id="examples-1">Examples<a class="hash-link" href="#examples-1" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_JmGV" id="prune-local-cache-older-than-30-days">Prune local cache older than 30 days<a class="hash-link" href="#prune-local-cache-older-than-30-days" title="Direct link to heading">​</a></h4><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage cache --prune 30</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage cache --prune 30</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h4 class="anchor anchorWithStickyNavbar_JmGV" id="completely-clear-all-local-cache">Completely clear all local cache<a class="hash-link" href="#completely-clear-all-local-cache" title="Direct link to heading">​</a></h4><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage cache --clear</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage cache --clear</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><hr><h2 class="anchor anchorWithStickyNavbar_JmGV" id="global-options">Global Options<a class="hash-link" href="#global-options" title="Direct link to heading">​</a></h2><p>These are options that apply to all commands.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="verbosity-log-levels-and-grouping">Verbosity, Log Levels, and Grouping<a class="hash-link" href="#verbosity-log-levels-and-grouping" title="Direct link to heading">​</a></h3><p><code>lage</code> by default will hide the output from successful tasks. If you want to see the output as they are being generated, call <code>lage</code> with the <code>verbose</code> argument.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --verbose</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --verbose</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h4 class="anchor anchorWithStickyNavbar_JmGV" id="log-levels">Log Levels<a class="hash-link" href="#log-levels" title="Direct link to heading">​</a></h4><p>You can control the log level instead of using &quot;--verbose&quot; argument. You can display <code>warn</code> messages and above (<code>error</code>) in the following example:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --log-level warn</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --log-level warn</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Valid values here are <code>silly</code>, <code>verbose</code>, <code>info</code>, <code>warn</code>, <code>error</code>. If <code>erorr</code> is passed to <code>--log-level</code>, you&#x27;ll receive the least amount of information. The defualt is <code>info</code>.</p><h4 class="anchor anchorWithStickyNavbar_JmGV" id="grouped-logs">Grouped logs<a class="hash-link" href="#grouped-logs" title="Direct link to heading">​</a></h4><p><code>lage</code> will interweave all the <code>stdout</code> and <code>stderr</code> from all active targets as they are running. This may become a mess, so <code>lage</code> can group output messages together. These messages will only be displayed when the target is completed:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --verbose --grouped</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --verbose --grouped</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><h3 class="anchor anchorWithStickyNavbar_JmGV" id="reporter">Reporter<a class="hash-link" href="#reporter" title="Direct link to heading">​</a></h3><p><code>lage</code> comes with various kinds of reporters. Reporters take the logged messages of the target runs, format them, and display them. The default one can group messages, and there are ones that would work well with various Continuous Integration systems like Azure DevOps. </p><p>You can pick the reporter by passing the <code>--reporter</code> flag:</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --reporter json</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">$ lage build --reporter json</span></div></code></div><button type="button" aria-label="Copy code to clipboard" class="copy-button">Copy</button></pre><p>Available reporters are: <code>azureDevops</code>, <code>json</code>. By default the log messages are formatted with the &quot;default&quot; reporter.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/microsoft/lage/docs/Reference/cli.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_pbO5"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/lage/docs/Tutorial/priority"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">7. Priorities</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/lage/docs/Reference/config"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#run-command" class="table-of-contents__link toc-highlight">Run Command</a><ul><li><a href="#options" class="table-of-contents__link toc-highlight">Options</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a></li></ul></li><li><a href="#cache-command" class="table-of-contents__link toc-highlight">Cache Command</a><ul><li><a href="#options-1" class="table-of-contents__link toc-highlight">Options</a></li><li><a href="#examples-1" class="table-of-contents__link toc-highlight">Examples</a></li></ul></li><li><a href="#global-options" class="table-of-contents__link toc-highlight">Global Options</a><ul><li><a href="#verbosity-log-levels-and-grouping" class="table-of-contents__link toc-highlight">Verbosity, Log Levels, and Grouping</a></li><li><a href="#reporter" class="table-of-contents__link toc-highlight">Reporter</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/lage/assets/js/runtime~main.7b2bdbce.js"></script>
<script src="/lage/assets/js/main.47168870.js"></script>
</body>
</html>